<div class="row padding-top padding-bottom-lg">
  <div class="col-xs-12 trend-chart">
    <h3>Trend Graph</h3>
    <div class="row form-group" ng-hide="$ctrl.isError() || $ctrl.loading">
      <div class="col-sm-2">
        <select class="form-control"
          ng-model="$ctrl.metrics[0]"
          ng-change="$ctrl.updateChart()"
          ng-options="item as item.displayName for item in $ctrl.filterOptions(1)">
        </select>
      </div>
      <div class="col-sm-2">
        <select class="form-control"
          ng-model="$ctrl.metrics[1]"
          ng-change="$ctrl.updateChart()"
          ng-options="item as item.displayName for item in $ctrl.filterOptions(0)">
        </select>
      </div>
    </div>
    <div class="chart-container" ng-hide="$ctrl.isError() || $ctrl.loading">
      <rl-chart data="$ctrl.chart"></rl-chart>
    </div>
    <table class="table table-trend-metrics" ng-hide="$ctrl.isError() || $ctrl.loading">
      <tr>
        <td ng-repeat="trend in $ctrl.metrics">
          <span class="fa fa-circle" ng-style="{'color': $ctrl.colors[$index]}"></span>
          {{trend.displayName}}:
          <b>{{$ctrl.getTotals(trend.metricName)}}</b>
        </td>
      </tr>
    </table>
    <div class="loading" ng-show="$ctrl.loading">
      <i class="fa fa-spinner fa-pulse fa-5x"></i>
    </div>
    <div class="alert alert-danger" ng-show="$ctrl.isError()">
      <h4 class="alert-title">
        <i class="fa fa-exclamation-triangle"></i>
        There was an error fetching the campaign perfomance data.
      </h4>
      <p>{{$ctrl.data}}</p>
    </div>
  </div>
</div>
